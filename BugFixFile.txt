Fixed Some bug

Detected new bug